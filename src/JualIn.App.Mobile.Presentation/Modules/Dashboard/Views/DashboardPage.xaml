<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="JualIn.App.Mobile.Presentation.Modules.Dashboard.Views.DashboardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:constants="clr-namespace:JualIn.App.Mobile.Presentation.Shared.Constants"
    xmlns:converters="clr-namespace:JualIn.App.Mobile.Presentation.UI.Converters"
    xmlns:horus="clr-namespace:HorusStudio.Maui.MaterialDesignControls;assembly=HorusStudio.Maui.MaterialDesignControls"
    xmlns:icons="clr-namespace:UraniumUI.Icons.MaterialSymbols;assembly=UraniumUI.Icons.MaterialSymbols"
    xmlns:pages="clr-namespace:JualIn.App.Mobile.Presentation.Modules.Dashboard.Views"
    xmlns:strings="clr-namespace:JualIn.App.Mobile.Presentation.Resources.Strings"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:uranium="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
    xmlns:vm="clr-namespace:JualIn.App.Mobile.Presentation.Modules.Dashboard.ViewModels"
    x:Name="root"
    Title=""
    x:DataType="{x:Type vm:DashboardViewModel}">
    <ContentPage.Behaviors>
        <toolkit:EventToCommandBehavior
            BindingContext="{Binding Path=BindingContext, Source={x:Reference root}, x:DataType={x:Type pages:DashboardPage}}"
            Command="{Binding AppearingCommand}"
            EventName="Appearing" />
    </ContentPage.Behaviors>

    <ContentPage.ToolbarItems>
        <ToolbarItem
            IconImageSource="{FontImageSource FontFamily=MaterialRounded,
                                              Glyph={x:Static icons:MaterialRounded.Notifications},
                                              Color={AppThemeBinding Light={StaticResource Primary},
                                                                     Dark={StaticResource DarkPrimary}}}"
            Order="Primary"
            Text="Notifications" />
    </ContentPage.ToolbarItems>

    <ScrollView>
        <VerticalStackLayout
            Margin="{StaticResource AppLayoutPadding}"
            HorizontalOptions="Fill"
            Spacing="{StaticResource CommonSpaceBetweenSmall}">
            <VerticalStackLayout>
                <horus:MaterialLabel FontAttributes="Bold" Type="TitleLarge">
                    <horus:MaterialLabel.Text>
                        <MultiBinding StringFormat="{}{0} {1}, {2}!">
                            <Binding Source="{Static strings:AppStrings.DashboardPage_Lbl_Greeting_Prefix}" />
                            <Binding Converter="{converters:TimeToStateTextConverter}" Path="Clock" />
                            <Binding FallbackValue="-" Path="FullName" />
                        </MultiBinding>
                    </horus:MaterialLabel.Text>
                </horus:MaterialLabel>

                <horus:MaterialLabel Text="{Static strings:AppStrings.DashboardPage_Lbl_Greeting_Postfix}" />
            </VerticalStackLayout>

            <horus:MaterialCard
                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceContainerLowest},
                                                  Dark={StaticResource DarkSurfaceContainerLowest}}"
                CornerRadius="{StaticResource MaterialCornerRadiusMedium}"
                StrokeThickness="0"
                Type="Filled">
                <!--<layouts:RevenuePreviewView />-->
            </horus:MaterialCard>

            <!--  Menus Version 0  -->
            <horus:MaterialCard
                Padding="{StaticResource CommonSpaceMicroAll}"
                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceContainerLowest},
                                                  Dark={StaticResource DarkSurfaceContainerLowest}}"
                CornerRadius="{StaticResource MaterialCornerRadiusMedium}"
                IsVisible="{Binding Source={Static constants:Preprocessor.USE_VERSION_0}}"
                StrokeThickness="0"
                Type="Filled">
                <HorizontalStackLayout>
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}" TappedCommand="{Binding OpenPointOfSalePageCommand}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Add_shopping_cart}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_CreateOrder}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}" TappedCommand="{Binding OpenProductManagementPageCommand}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Local_mall}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_Products}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                </HorizontalStackLayout>
            </horus:MaterialCard>

            <!--  Menus  -->
            <horus:MaterialCard
                Padding="{StaticResource CommonSpaceMicroAll}"
                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceContainerLowest},
                                                  Dark={StaticResource DarkSurfaceContainerLowest}}"
                CornerRadius="{StaticResource MaterialCornerRadiusMedium}"
                IsVisible="{Binding Source={Static constants:Preprocessor.USE_VERSION_0}, Converter={toolkit:InvertedBoolConverter}}"
                StrokeThickness="0"
                Type="Filled">
                <FlexLayout JustifyContent="Start" Wrap="Wrap">
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}" TappedCommand="{Binding OpenPointOfSalePageCommand}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Add_shopping_cart}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_CreateOrder}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}" TappedCommand="{Binding OpenOrderHistoryPageCommand}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Receipt_long}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_OrderHistory}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Box_edit}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_QuickUpdateStock}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}" TappedCommand="{Binding OpenProductManagementPageCommand}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Local_mall}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_Products}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                    <uranium:ButtonView Style="{StaticResource MenuButton_Container}">
                        <VerticalStackLayout>
                            <Border Style="{StaticResource MenuButton_ImageContainer}">
                                <Image Source="{FontImageSource FontFamily=MaterialRounded, Glyph={Static icons:MaterialRounded.Shopping_cart_off}, Color={AppThemeBinding Light={StaticResource OnSurfaceVariant}}}" Style="{StaticResource MenuButton_Image}" />
                            </Border>
                            <horus:MaterialLabel
                                FontSize="{StaticResource FontSizeShrink1}"
                                Style="{StaticResource MenuButton_Label}"
                                Text="{Static strings:AppStrings.DashboardPage_Btn_CloseSales}" />
                        </VerticalStackLayout>
                    </uranium:ButtonView>
                </FlexLayout>
            </horus:MaterialCard>

            <!--  Best Seller  -->
            <horus:MaterialCard
                Padding="{StaticResource CommonSpaceSmallAll}"
                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceContainerLowest},
                                                  Dark={StaticResource DarkSurfaceContainerLowest}}"
                CornerRadius="{StaticResource MaterialCornerRadiusMedium}"
                StrokeThickness="0"
                Type="Filled">
                <!--<layouts:BestSellerBoardView />-->
            </horus:MaterialCard>

            <!--  Transactions Chart  -->
            <horus:MaterialCard
                Padding="{StaticResource CommonSpaceSmallAll}"
                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceContainerLowest},
                                                  Dark={StaticResource DarkSurfaceContainerLowest}}"
                CornerRadius="{StaticResource MaterialCornerRadiusMedium}"
                StrokeThickness="0"
                Type="Filled">
                <!--<layouts:TransactionsChartView />-->
            </horus:MaterialCard>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>